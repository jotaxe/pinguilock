{"version":3,"sources":["components/Api/index.js","components/Home/index.js","components/AssingOTP/card.js","components/AssingOTP/index.js","components/Redirect/index.js","components/Routes/index.js","App.js","serviceWorker.js","index.js"],"names":["feathers","require","socketio","io","auth","socket","app","configure","storage","localStorage","storageKey","Home","this","props","classes","react_default","a","createElement","Typography_default","align","component","variant","gutterBottom","Component","withStyles","root","flexGrow","CustomCard","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","Card_default","className","card","CardContent_default","title","color","content","pos","secondary","CardActions_default","button","minWidth","bullet","display","margin","transform","fontSize","marginBottom","textAlign","AssingOTP","_this","componentDidMount","asyncToGenerator","regenerator_default","mark","_callee","otpId","accessToken","otp","grantedBy","wrap","_context","prev","next","match","params","getItem","service","on","patchedOtp","setState","authenticate","sent","setItem","JSON","stringify","user","get","granted_by_user","user_id","id","qrView","name","stop","linkAccount","state","then","res","patch","status","alert","loginAction","window","location","href","sendRequest","parse","create","lock_id","otp_id","method","requestSended","undefined","_this$state","console","log","_this$state2","lib_default","renderAs","size","value","secret_code","concat","Button_default","onClick","email","Redirect","token","variable","vars","search","substring","split","i","length","pair","decodeURIComponent","getQueryVariable","history","push","routes","Switch","Route","exact","path","App","AppBar_default","position","Toolbar_default","Boolean","hostname","ReactDOM","render","BrowserRouter","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3669ae7d.chunk.js","sourcesContent":["const feathers = require('@feathersjs/feathers');\nconst socketio = require('@feathersjs/socketio-client');\nconst io = require('socket.io-client');\nconst auth = require('@feathersjs/authentication-client');\n\nconst socket = io('http://192.168.0.11:3030');\nconst app = feathers();\n\n// Set up Socket.io client with the socket\napp.configure(socketio(socket));\napp.configure(auth({storage: localStorage, storageKey: 'accessToken'}));\n\nexport default app;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport app from '../Api';\n\n\nconst styles = {\n    root: {\n      flexGrow: 1,\n    },\n  };\n\nclass Home extends Component {\n        \n    render() {\n        const {classes} = this.props;\n\n        return (\n            <div>\n                <Typography align={\"center\"} component=\"h2\" variant=\"h1\" gutterBottom>\n                    Welcome to Ping√ºilock\n                </Typography>\n            </div>\n            \n        )\n    }\n}\nHome.propTypes = {\n    classes: PropTypes.object.isRequired,\n  };\n  \nexport default withStyles(styles)(Home);\n\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = {\n    card: {\n      minWidth: 275,\n    },\n    bullet: {\n      display: 'inline-block',\n      margin: '0 2px',\n      transform: 'scale(0.8)',\n    },\n    title: {\n      fontSize: 14,\n    },\n    pos: {\n      marginBottom: 12,\n    },\n    content:{\n        textAlign: 'center'\n    }\n  };\n\nclass CustomCard extends Component {\n    constructor(props){\n        super(props);\n    }\n\n    render() {\n        const {classes} = this.props;\n        const props = this.props;\n        return (\n            <Card className={classes.card}>\n                <CardContent>\n                    <Typography align={\"center\"} className={classes.title} color=\"textSecondary\" gutterBottom>\n                        {props.title}\n                    </Typography>\n                    <div className={classes.content}>\n                        {this.props.content !== \"incorrect\" ? this.props.content \n                        : (\n                        <Typography align={\"center\"} className={classes.title} color=\"textSecondary\">\n                            Incorrect User. You can't see this QR Code.\n                        </Typography>)}\n                    </div>\n                    <Typography align={\"center\"} className={classes.pos} color=\"textSecondary\">\n                        {props.secondary}\n                    </Typography>\n                </CardContent>\n                <CardActions>\n                        {this.props.button}\n                </CardActions>\n            </Card>\n        )\n    }\n}\n\nCustomCard.propTypes = {\n    classes: PropTypes.object.isRequired,\n  };\n  \n  export default withStyles(styles)(CustomCard);","import React, { Component } from 'react';\nimport app from '../Api';\nimport QRCode from 'qrcode.react'\nimport CustomCard from \"./card\";\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport {Link} from \"react-router-dom\";\n\n\n\nexport default class AssingOTP extends Component {\n    constructor(props){\n        super(props);\n        localStorage.setItem('otpId',  this.props.match.params.otp);\n        this.state = {\n            otpId: this.props.match.params.otp,\n            qrView: undefined,\n            otp: undefined,\n            requestSended: false,\n            grantedBy: \"\"\n        }\n    }\n    \n    componentDidMount = async () => {\n        const otpId = this.props.match.params.otp;\n        const accessToken = localStorage.getItem('accessToken');\n        app.service('otp').on('patched', (patchedOtp) => {\n           this.setState({otp: patchedOtp});             \n        });\n        let auth;\n        if(accessToken){\n            auth = await app.authenticate();\n            localStorage.setItem('user', JSON.stringify(auth.user));\n            const otp = await app.service('otp').get(otpId);\n            const grantedBy = await app.service('user').get(otp.granted_by_user);    \n            if(otp.user_id){\n                if(otp.user_id === auth.user.id){\n                    this.setState({qrView: 'correctUser', otp: otp, grantedBy: grantedBy.name})\n                }else{\n                    this.setState({qrView: 'incorrectUser'})\n                }\n            }else{\n                this.setState({qrView: 'linkUser'});\n            }      \n        }else{\n            this.setState({qrView: 'login'});\n        }\n    }\n\n    linkAccount = () => {\n        const {otpId} = this.state;\n        app.authenticate().then((res) => {\n            app.service('otp').patch(otpId, {user_id: res.user.id, status: 'aproval pending'}).then(() => {\n                alert(\"User linked! please wait for aproval.\")\n            });\n        });\n    }\n\n    \n    loginAction = () => {\n        window.location.href = 'http://localhost:3030/auth/google';\n    }\n\n    sendRequest = () => {\n        const {otp} = this.state;\n        const user = JSON.parse(localStorage.getItem('user'))\n        app.service('access-request').create({user_id: user.id, \n            lock_id: \n            otp.lock_id, \n            otp_id: otp.id, \n            method: \"OTP\"\n        }).then( () => {\n            this.setState({requestSended: true});\n        })\n    }\n\n\n\n    \n    render() {\n        const {qrView, otp} = this.state;\n        const classes = {\n            card: {\n              minWidth: 275,\n            },\n            bullet: {\n              display: 'inline-block',\n              margin: '0 2px',\n              transform: 'scale(0.8)',\n            },\n            title: {\n              fontSize: 14,\n            },\n            pos: {\n              marginBottom: 12,\n            },\n          };\n        \n        console.log(qrView);\n        switch (qrView) {\n            case \"correctUser\":\n                const {requestSended, grantedBy} = this.state;\n                \n                const content = otp.status === 'active' ? \n                (<QRCode renderAs={'svg'} size={\"300\"} value={otp.secret_code}/>) \n                :\n                (otp.status == 'timedout' ? \n                    (<Typography align={\"center\"} className={classes.title} color=\"textSecondary\">OTP Timedout.</Typography>)\n                    :\n                    (<Typography align={\"center\"} className={classes.title} color=\"textSecondary\">please wait for aproval from admin.</Typography>)\n                ) \n                \n                return(<CustomCard \n                    title={\"One Time Password QR Code\"}\n                    secondary={`Granted by user: ${grantedBy}`}\n                    content={content}\n                    button={(requestSended && otp.status === 'active') ? null :  <Button onClick={this.sendRequest}> Use OTP </Button>}\n                    />)\n            case \"incorrectUser\":\n                return(<CustomCard \n                    title={\"One Time Password QR Code\"}\n                    secondary={`WRONG USER`}\n                    content={\"incorrect\"}\n                    />)\n            case \"linkUser\":\n                    const user = JSON.parse(localStorage.getItem('user'));\n                    return (\n                    <CustomCard \n                    title={\"One Time Password QR Code\"}\n                    secondary={`would you like to link this account (${user.email}) with this OTP?`}\n                    button= {<Button onClick={this.linkAccount}> Link account </Button>}\n                    />\n\n                    )\n            case \"login\": \n        \n                    return (\n                    <CustomCard \n                    title={\"One Time Password QR Code\"}\n                    secondary={`Login`}\n                    content={<Button onClick={this.loginAction}> Login With Google </Button>}\n                    />\n\n                    )\n            default:\n            return(<div>Loading</div>)\n        }\n    }\n}\n\n","import React, { Component } from 'react'\n\nfunction getQueryVariable(variable) {\n    var query = window.location.search.substring(1);\n    var vars = query.split('&');\n    for (var i = 0; i < vars.length; i++) {\n      var pair = vars[i].split('=');\n      if (decodeURIComponent(pair[0]) == variable) {\n        return decodeURIComponent(pair[1]);\n      }\n    }\n    console.log('Query variable %s not found', variable);\n  }\n  \n\nexport default class Redirect extends Component {\n    \n\n    componentDidMount() {\n        var token = getQueryVariable('token');\n        if (token) {\n            localStorage.setItem('accessToken', token);\n        }\n        const otpId = localStorage.getItem('otpId');\n        if(otpId){\n            this.props.history.push(`/assingOTP/${otpId}`);\n        }else{\n            this.props.history.push('/');\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                redirecting... please wait\n            </div>\n        )\n    }\n}\n","\nimport React from 'react'\nimport {Switch, Route} from 'react-router-dom';\nimport Home from '../Home';\nimport AssingOTP from \"../AssingOTP\";\nimport Redirect from '../Redirect';\n\nconst routes = (\n    <Switch>\n        <Route exact path=\"/\" component={Home}></Route>\n        <Route path=\"/assingOtp/:otp?\" component={AssingOTP}></Route>\n        <Route path=\"/redirect\" component={Redirect}></Route>\n    </Switch>\n)\nexport default routes;\n\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport './App.css';\nimport routes from './components/Routes';\n\nconst styles = {\n  root: {\n    flexGrow: 1,\n  },\n};\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <AppBar position=\"static\" color=\"default\">\n          <Toolbar>\n            <Typography variant=\"h6\" color=\"inherit\">\n                Ping√ºilock\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        {routes}\n      </div>\n    );\n  }\n}\nApp.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n    \n\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}